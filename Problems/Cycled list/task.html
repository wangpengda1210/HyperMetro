<h2>Cycled list</h2>
<html>
 <head></head>
 <body>
  <p>The goal of this task is to modify a doubly linked list and implement a <strong>circular doubly linked list</strong>. For such a list, the previous element for the head is the tail and the next element for the tail is the head.</p> 
  <p>You are given a circular list. Initially, the pointer is on the first element. You receive commands for removing elements at different distances to the left or the right from the current one. After an element is removed, the pointer is set right after this element in the traversal direction.</p> 
  <p><strong>Input: </strong>the first line contains two numbers <span class="math-tex">\(N&lt;1000\)</span> and <span class="math-tex">\(K&lt;1000\)</span> – the number of elements in the list and the number of commands. The second line contains the elements of the list. The following $K$ lines represent one of the two commands:</p> 
  <ul> 
   <li>«r value» removes the element on the right by ‘value’ elements;</li> 
   <li>«l value» removes the element on the left by ‘value’ elements.</li> 
  </ul> 
  <p><strong>Output: </strong>In the first line, print the resulting list after all removals. The first element of the initial list must be to the left of all other elements of the resulting list.</p> 
  <p><u>Example</u>: There are three elements given: <span class="math-tex">\([5,8,2]\)</span>. At first the pointer is at the element <span class="math-tex">\(5\)</span> - the first one in the list. After the command <code class="java">r 1</code> the program should delete the element to its right, which is <span class="math-tex">\(8\)</span>, and the pointer should be at the next element in the traversal direction, so <span class="math-tex">\(2\)</span>. If the first command were <code class="java">l 1</code>, then the element <span class="math-tex">\(2\)</span> would be deleted, and the pointer would be at the element <span class="math-tex">\(8\)</span>.</p>
 </body>
</html><br><b>Sample Input:</b><br><pre><code class="language-no-highlight">5 2<br>1 2 3 4 5<br>r 1<br>r 1<br></code></pre><br><b>Sample Output:</b><br><pre><code class="language-no-highlight">1 3 5 <br></code></pre><br><br><b>Sample Input:</b><br><pre><code class="language-no-highlight">5 2<br>5 9 4 8 11<br>l 1<br>r 1</code></pre><br><b>Sample Output:</b><br><pre><code class="language-no-highlight">9 4 8<br></code></pre><br><br><b>Sample Input:</b><br><pre><code class="language-no-highlight">4 2<br>23 22 21 20<br>r 1<br>l 2<br></code></pre><br><b>Sample Output:</b><br><pre><code class="language-no-highlight">23 21<br></code></pre><br><br><br><font color="gray">Memory limit: 256 MB</font><br><font color="gray">Time limit: 8 seconds</font><br><br>
<a href="https://hyperskill.org/learn/step/8290">Show topic summary</a>